

<command><![CDATA[
    ## Get location for pilon installation
    pilon=`pilon --jar_dir` &&
    ## Running Unicycler
    unicycler -t "\${GALAXY_SLOTS:-4}"
    -o ./
    --verbosity 3
    --pilon_path \$pilon
    #if str( $paired_unpaired.fastq_input_selector ) == "paired"
        -1 '$fq1'
        -2 '$fq2'
    #end if
    #if $long
        -l $lr
    #end if
...........
]]></command>
<inputs>
    <conditional name="paired_unpaired">
        <param name="fastq_input_selector" type="select" label="Paired or Single end data?" help="Select between paired and single end data">
            <option selected="True" value="paired">Paired</option>
            <option value="paired_collection">Paired Collection</option>
            <option value="single">Single</option>
            <option value="none">None</option>
        </param>
        <when value="paired">
            <param name="fastq_input1" argument="-1" type="data" format="fastqsanger,fastqsanger.gz"
                label="Select first set of reads" help="Specify dataset with forward reads"/>
............


............
## Build Unicycler command
${

var cmd_base=""
var opt=""

cmd_base+=" unicycler -t "+inputs.compute_slots+"  "
cmd_base+=" -o ./  "
cmd_base+=" --verbosity 3  "
cmd_base+=" --pilon_path \$PILONJAR  "

if ( inputs.fastq_file_type == "paired"){
        opt+=" -1 $fq1 -2 $fq2  "
}
............
var cmdl=cmd_base+" "+opt+" \$GENERALOPT \$ADDOPT "
return cmdl
}
............
inputs:
  fastq_file_type:
    doc: Paired and single end data
    type:
      type: enum
      symbols:
      - paired
      - single
  fastq1_type:
    doc: Type of the First set of reads. Only when fastq_file_type = single  or  paired
    type:
      type: enum
      symbols:
  ............

  



  fastqc my_reads.fq



  



