
workflow: 'simple_workflow' (unicycler assembly with 6 steps)
start: workflow translates to janis


1. attempted run: no values for workflow inputs
    - created inputs.yaml (this should be automated)
    - set the illumina and nanopore reads workflow input data paths
    - set every other workflow input to 'None'
    
2. attempted run: 11 tool input values had value of None (but input was not marked optional)
    - solution: updated source code to scan for None values (where not optional) and add as workflow inputs
    - clutters the space a bit, but users can easily delete these lines
    - better to do take this approach than override them and say theyre all optional=None
    - would result in the tools themselves throwing errors

3. The above causes the following:
    """
    ValueError: There were errors in 1 inputs: {'quast_labels': 'value was null'}
    """
    - if the underlying tool input is optional, we can delete these workflow inputs and directly set the value as None in that step
    - if not optional, setting the value as None makes janis throw an error because we have assigned None to something not optional. Need to also update the tool input as optional in these cases. 
    - Due to this, manually set the 'labels' tool input in quast to optional=True

4. Source 'out_stats' of type {"type": "array", "items": "File"} is incompatible with sink 'multiqc_out_stats' of type "File"
    - solution: manually set multiqc_out_stats from File to Array(File)

5. ("Error collecting output for parameter 'out_html_file': ../workflow/tools/fastqc_0_72.cwl:129:5: Did not find output file with glob pattern: '['__UNKNOWN_OUTPUT__']'.", {})
    - need to address __UNKNOWN_OUTPUT__ (outputs where we don't know if the main tool execution, or something afterwards caused the output to be generated)

6. quast tool: base_command=['quast', 'metaquast'], -> base_command=['quast']

7. quast tool: deleted 'out_mis_ass', 'out_unalign', 'out_kmers' outputs (optional post-processing)

8. removed multiqc

9. quast: error: no such option: --max-ref-num
but in the xml:
    #else if $assembly.ref.origin == 'silva'
    --test-no-ref
    --max-ref-num '$assembly.ref.max_ref_num'
    #end if
    ???
    - solution: 
        --max-ref-num can only be used with metaquast, not quast! 
        - removed this input from the step

9.5 quast: error: no such option: --references-list
    - solution: same as above 

10. quast: no input contigs positional
    - solution:
        - added new 'input_contigs' positional input to tool
        - updated 'input_contigs' input to workflow step with value 'w.unicycler.out_assembly'

11. prokka died 
    """
    [tbl2asn] This copy of tbl2asn is more than a year old.  Please download the current version 
    Could not run command: tbl2asn -V b -a r10k -l paired-ends -M n -N 1 -y 'Annotated using prokka 1.14.5
    """
    - solution: updated to newest container for this version

